<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Create Link</title>

<style>
body{
font-family: Arial;
background:pink;
text-align:center;
padding:30px;
}

input,textarea{
width:85%;
padding:12px;
margin:8px;
border-radius:8px;
border:1px solid #ccc;
}

button{
padding:12px 25px;
background:red;
color:white;
border:none;
border-radius:10px;
cursor:pointer;
}

#result{
margin-top:25px;
}
</style>
</head>

<body>

<h2>Create Your Valentine Link ❤️</h2>

<input id="receiver" placeholder="Receiver Name"><br>
<input id="nickname" placeholder="Nickname"><br>
<input id="sender" placeholder="Your Name"><br>

<textarea id="p1" placeholder="Paragraph 1"></textarea>
<textarea id="p2" placeholder="Paragraph 2"></textarea>
<textarea id="p3" placeholder="Paragraph 3"></textarea>

<br>
<button onclick="generateLink()">Generate Link</button>

<div id="result"></div>

<script>

function generateLink(){

const receiver = encodeURIComponent(document.getElementById("receiver").value);
const nickname = encodeURIComponent(document.getElementById("nickname").value);
const sender = encodeURIComponent(document.getElementById("sender").value);
const p1 = encodeURIComponent(document.getElementById("p1").value);
const p2 = encodeURIComponent(document.getElementById("p2").value);
const p3 = encodeURIComponent(document.getElementById("p3").value);

if(!receiver || !sender || !p1){
alert("Please fill required fields");
return;
}

const baseURL =
window.location.origin +
window.location.pathname.replace("index.html","");

const link =
baseURL +
"proposal.html?receiver="+receiver+
"&nickname="+nickname+
"&sender="+sender+
"&p1="+p1+
"&p2="+p2+
"&p3="+p3;

document.getElementById("result").innerHTML = `
<p>Copy and send this link ❤️</p>
<input value="${link}" id="copyBox" readonly style="width:85%;padding:10px">
<br><br>
<button onclick="copyLink()">Copy Link</button>
`;

}

function copyLink(){
const box = document.getElementById("copyBox");
box.select();
document.execCommand("copy");
alert("Link copied!");
}

</script>

</body>
</html>
