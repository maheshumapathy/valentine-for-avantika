<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Proposal</title>

<style>
body{
font-family: Arial;
background: pink;
text-align:center;
padding:40px;
}

input, textarea{
width:80%;
padding:12px;
margin:10px;
border-radius:8px;
border:1px solid #ccc;
}

button{
padding:12px 25px;
background:red;
color:white;
border:none;
border-radius:10px;
cursor:pointer;
}

#generatedLink{
margin-top:25px;
}
</style>
</head>

<body>

<h2>Create Your Proposal ❤️</h2>

<input id="receiver" placeholder="Receiver Name"><br>
<input id="nickname" placeholder="Nickname"><br>
<input id="sender" placeholder="Your Name"><br>

<textarea id="p1" placeholder="Paragraph 1"></textarea>
<textarea id="p2" placeholder="Paragraph 2"></textarea>
<textarea id="p3" placeholder="Paragraph 3"></textarea>

<br>
<button onclick="generateLink()">Generate Link</button>

<div id="generatedLink"></div>

<script>

function generateLink(){

const receiver=document.getElementById("receiver").value.trim();
const nickname=document.getElementById("nickname").value.trim();
const sender=document.getElementById("sender").value.trim();
const p1=document.getElementById("p1").value.trim();
const p2=document.getElementById("p2").value.trim();
const p3=document.getElementById("p3").value.trim();

if(!receiver || !sender || !p1){
alert("Fill required fields");
return;
}

const data={receiver,nickname,sender,p1,p2,p3};

const encoded=btoa(unescape(encodeURIComponent(JSON.stringify(data))));

const baseURL=window.location.href.replace("index.html","");
const finalLink=baseURL+"proposal.html?data="+encoded;

document.getElementById("generatedLink").innerHTML=
`
<p>Share this link ❤️</p>
<input id="linkBox" value="${finalLink}" readonly style="width:85%;padding:10px;">
<br><br>
<button onclick="copyLink()">Copy Link</button>
`;

}

function copyLink(){
const copy=document.getElementById("linkBox");
copy.select();
document.execCommand("copy");
alert("Link copied!");
}

</script>

</body>
</html>
