<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Create Proposal</title>

<style>
body{
font-family:Arial;
background:pink;
text-align:center;
padding:30px;
}

input, textarea{
width:80%;
padding:12px;
margin:8px;
border-radius:8px;
border:1px solid #ccc;
}

button{
padding:12px 25px;
background:red;
color:white;
border:none;
border-radius:10px;
cursor:pointer;
}

#linkBox{
margin-top:25px;
}
</style>
</head>

<body>

<h2>Create Your Proposal ❤️</h2>

<input id="receiver" placeholder="Receiver Name"><br>
<input id="nickname" placeholder="Nickname"><br>
<input id="sender" placeholder="Your Name"><br>

<textarea id="p1" placeholder="Paragraph 1"></textarea>
<textarea id="p2" placeholder="Paragraph 2"></textarea>
<textarea id="p3" placeholder="Paragraph 3"></textarea>

<br>
<button onclick="generate()">Generate Link</button>

<div id="linkBox"></div>

<script>
function generate(){

const data = {
receiver: encodeURIComponent(receiver.value),
nickname: encodeURIComponent(nickname.value),
sender: encodeURIComponent(sender.value),
p1: encodeURIComponent(p1.value),
p2: encodeURIComponent(p2.value),
p3: encodeURIComponent(p3.value)
};

const base = window.location.origin + window.location.pathname.replace("index.html","");

const link = base+"proposal.html?"+
`receiver=${data.receiver}&nickname=${data.nickname}&sender=${data.sender}&p1=${data.p1}&p2=${data.p2}&p3=${data.p3}`;

linkBox.innerHTML = `
<p>Copy this link ❤️</p>
<input value="${link}" id="copyLink" readonly style="width:80%">
<br><br>
<button onclick="copy()">Copy</button>
`;
}

function copy(){
copyLink.select();
document.execCommand("copy");
alert("Link copied!");
}
</script>

</body>
</html>
